<div class="fixed bottom-0 left-0 right-0 z-50">
  <!-- Card container -->
  <div
    class="relative bg-white rounded-t-lg shadow-lg max-h-screen overflow-y-auto transition-all duration-300"
  >
    <!-- Half circle area with the handle -->
    <div class="absolute inset-x-0 -top-5 flex justify-center">
      <button
        (click)="toggle()"
        tabindex="0"
        class="w-10 h-10 bg-white rounded-full shadow-md flex items-center justify-center focus:outline-none"
        [attr.aria-expanded]="isExpanded"
        aria-controls="drawer-content"
        aria-label="Toggle Bottom Drawer"
      >
        <svg
          [ngClass]="{'transform rotate-180 transition-transform duration-300': isExpanded}"
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
        </svg>
      </button>
    </div>

    <!-- Drawer contents -->
    <div class="pt-8 px-4">
      <!-- Always visible preview content (projected via attribute) -->
      <div class="preview-content">
        <ng-content select="[preview-pontent]"></ng-content>
      </div>
      <!-- Fully expanded content for non-preview contents -->
      <div
        id="drawer-content"
        [@drawerContentAnimation]="isExpanded ? 'expanded' : 'collapsed'"
        class="mt-4"
        *ngIf="isExpanded"
      >
        <ng-content select=":not([preview-pontent])"></ng-content>
      </div>
    </div>
  </div>
</div>